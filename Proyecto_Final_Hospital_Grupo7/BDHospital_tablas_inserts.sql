DROP DATABASE IF EXISTS HOSPITAL;
CREATE DATABASE HOSPITAL;
USE HOSPITAL;

DROP USER IF EXISTS 'usuario'@'localhost';
CREATE USER 'usuario'@'localhost' IDENTIFIED BY 'test1234';
GRANT ALL PRIVILEGES ON HOSPITAL.* TO 'usuario'@'localhost';
FLUSH PRIVILEGES;

CREATE TABLE pacientes(
    id_paciente INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    nombre VARCHAR(50) NOT NULL
);

CREATE TABLE medicos(
    id_medico INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    especialidad VARCHAR(50) NOT NULL
);

CREATE TABLE turnos(
    id_turno INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    id_medico INT,
    id_paciente INT,
    fecha DATE NOT NULL,
    horario TIME NOT NULL,
    FOREIGN KEY (id_medico) REFERENCES medicos(id_medico) ON DELETE CASCADE,
    FOREIGN KEY (id_paciente) REFERENCES pacientes(id_paciente) ON DELETE CASCADE
);
-- INSERTAR PACIENTES
INSERT INTO pacientes (nombre)
VALUES
('Juan Pérez'),
('María García'),
('Carlos López'),
('Ana Martínez'),
('Roberto Sánchez'),
('Laura Rodríguez'),
('Miguel Fernández'),
('Sandra Gómez'),
('Diego Ramírez'),
('Isabel Moreno');

-- INSERTAR MÉDICOS
INSERT INTO medicos (nombre, especialidad)
VALUES
('Dr. Fernando Ruiz', 'Cardiología'),
('Dra. Elena Jiménez', 'Neurología'),
('Dr. José María Ortiz', 'Oftalmología'),
('Dra. Rosa Díaz', 'Dermatología'),
('Dr. Antonio López', 'Gastroenterología'),
('Dra. Patricia Martín', 'Pediatría'),
('Dr. Luis Gutiérrez', 'Traumatología'),
('Dra. Carmen Sáenz', 'Ginecología'),
('Dr. Vicente Blanco', 'Neumología'),
('Dra. Magdalena Cortés', 'Endocrinología');

-- INSERTAR TURNOS (10 por paciente aproximadamente = 100 turnos)
INSERT INTO turnos (id_medico, id_paciente, fecha, horario)
VALUES
-- Paciente 1 (Juan Pérez)
(1, 1, '2024-01-15', '09:00:00'),
(2, 1, '2024-02-10', '10:30:00'),
(3, 1, '2024-02-20', '14:00:00'),
(4, 1, '2024-03-05', '11:15:00'),
(5, 1, '2024-03-25', '15:30:00'),
(6, 1, '2024-04-10', '09:45:00'),
(7, 1, '2024-04-28', '13:20:00'),
(8, 1, '2024-05-15', '10:00:00'),
(9, 1, '2024-06-01', '16:00:00'),
(10, 1, '2024-06-20', '11:30:00'),

-- Paciente 2 (María García)
(1, 2, '2024-01-18', '10:00:00'),
(2, 2, '2024-02-08', '09:30:00'),
(4, 2, '2024-02-22', '15:00:00'),
(4, 2, '2024-03-10', '14:15:00'),
(5, 2, '2024-03-28', '11:00:00'),
(1, 2, '2024-04-12', '10:30:00'),
(7, 2, '2024-04-30', '12:45:00'),
(8, 2, '2024-05-18', '09:15:00'),
(9, 2, '2024-06-05', '14:30:00'),
(10, 2, '2024-06-25', '10:45:00'),

-- Paciente 3 (Carlos López)
(2, 3, '2024-01-22', '11:00:00'),
(3, 3, '2024-02-15', '10:00:00'),
(4, 3, '2024-02-25', '16:30:00'),
(5, 3, '2024-03-12', '13:00:00'),
(6, 3, '2024-04-02', '09:00:00'),
(7, 3, '2024-04-18', '14:00:00'),
(8, 3, '2024-05-05', '11:30:00'),
(9, 3, '2024-05-25', '15:15:00'),
(7, 3, '2024-06-10', '10:00:00'),
(9, 3, '2024-06-28', '12:30:00'),

-- Paciente 4 (Ana Martínez)
(3, 4, '2024-01-25', '14:00:00'),
(4, 4, '2024-02-12', '11:30:00'),
(5, 4, '2024-03-01', '09:45:00'),
(6, 4, '2024-03-20', '15:00:00'),
(7, 4, '2024-04-05', '10:15:00'),
(8, 4, '2024-04-22', '13:45:00'),
(9, 4, '2024-05-10', '16:00:00'),
(10, 4, '2024-05-28', '11:00:00'),
(1, 4, '2024-06-15', '14:30:00'),
(2, 4, '2024-07-02', '09:30:00'),

-- Paciente 5 (Roberto Sánchez)
(4, 5, '2024-01-28', '15:30:00'),
(5, 5, '2024-02-18', '10:00:00'),
(6, 5, '2024-03-08', '14:15:00'),
(7, 5, '2024-03-25', '11:45:00'),
(4, 5, '2024-04-15', '09:30:00'),
(5, 5, '2024-05-02', '13:00:00'),
(10, 5, '2024-05-20', '15:45:00'),
(1, 5, '2024-06-08', '10:30:00'),
(2, 5, '2024-06-26', '12:00:00'),
(3, 5, '2024-07-10', '16:15:00'),

-- Paciente 6 (Laura Rodríguez)
(5, 6, '2024-02-01', '09:00:00'),
(6, 6, '2024-02-20', '11:30:00'),
(10, 6, '2024-03-10', '14:00:00'),
(8, 6, '2024-03-28', '10:45:00'),
(3, 6, '2024-04-18', '15:15:00'),
(10, 6, '2024-05-08', '09:30:00'),
(7, 6, '2024-05-25', '13:45:00'),
(2, 6, '2024-06-12', '11:00:00'),
(3, 6, '2024-07-01', '14:30:00'),
(4, 6, '2024-07-18', '10:15:00'),

-- Paciente 7 (Miguel Fernández)
(6, 7, '2024-02-05', '10:30:00'),
(7, 7, '2024-02-25', '15:00:00'),
(5, 7, '2024-03-15', '11:15:00'),
(9, 7, '2024-04-05', '09:45:00'),
(10, 7, '2024-04-22', '14:30:00'),
(1, 7, '2024-05-12', '10:00:00'),
(2, 7, '2024-06-02', '13:15:00'),
(3, 7, '2024-06-20', '15:45:00'),
(10, 7, '2024-07-08', '11:30:00'),
(5, 7, '2024-07-28', '09:00:00'),

-- Paciente 8 (Sandra Gómez)
(7, 8, '2024-02-08', '11:45:00'),
(8, 8, '2024-02-28', '14:15:00'),
(9, 8, '2024-03-18', '10:30:00'),
(10, 8, '2024-04-08', '15:00:00'),
(1, 8, '2024-04-28', '09:15:00'),
(2, 8, '2024-05-18', '12:30:00'),
(3, 8, '2024-06-05', '14:45:00'),
(4, 8, '2024-06-25', '11:00:00'),
(5, 8, '2024-07-15', '13:30:00'),
(6, 8, '2024-08-02', '10:00:00'),

-- Paciente 9 (Diego Ramírez)
(8, 9, '2024-02-12', '13:00:00'),
(9, 9, '2024-03-05', '15:30:00'),
(1, 9, '2024-03-22', '10:45:00'),
(1, 9, '2024-04-12', '14:00:00'),
(2, 9, '2024-05-02', '11:15:00'),
(3, 9, '2024-05-22', '09:30:00'),
(7, 9, '2024-06-10', '13:45:00'),
(5, 9, '2024-07-01', '15:15:00'),
(6, 9, '2024-07-20', '10:30:00'),
(7, 9, '2024-08-08', '12:00:00'),

-- Paciente 10 (Isabel Moreno)
(9, 10, '2024-02-15', '14:30:00'),
(10, 10, '2024-03-08', '11:00:00'),
(3, 10, '2024-03-28', '15:45:00'),
(2, 10, '2024-04-18', '09:30:00'),
(3, 10, '2024-05-08', '13:00:00'),
(4, 10, '2024-05-28', '10:15:00'),
(5, 10, '2024-06-15', '14:45:00'),
(3, 10, '2024-07-05', '11:30:00'),
(1, 10, '2024-07-25', '15:00:00'),
(8, 10, '2024-08-12', '09:45:00');

